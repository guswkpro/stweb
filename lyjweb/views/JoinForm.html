<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title> 회원 가입 화면</title>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script type="text/javascript">
            function goLoginForm(){
                location.href="http://13.58.230.106:3000"    
            }
            function checkspecial(str){
                var special_pattern = /[`~!@#$%^&*|\\\'\";:\/?]/gi; 
                if(special_pattern.test(str) == true) {
                    return true; 
                    } 
                else if(str.length<5){
                    return true;
                }
                else{
                    return 0;
                }
            }
            function checkPasswordPattern(str) {
                 var pattern1 = /[0-9]/;	// 숫자 
                 var pattern2 = /[a-zA-Z]/;	// 문자 
                 var pattern3 = /[~!@#$%^&*()_+|<>?:{}]/;	// 특수문자 
                 if(!pattern1.test(str) || !pattern2.test(str) || !pattern3.test(str) || str.length < 8) { 
                     alert("비밀번호는 8자리 이상 문자, 숫자, 특수문자로 구성하여야 합니다."); 
                     return false; 
                    } 
                else 
                { return true; 
                } 
            }

            function email_change(){

                if(document.join.email.options[document.join.email.selectedIndex].value == '0'){

                    document.join.email2.disabled = true;

                    document.join.email2.value = "";

                }

                if(document.join.email.options[document.join.email.selectedIndex].value == '9'){

                    document.join.email2.disabled = false;

                    document.join.email2.value = "";

                    document.join.email2.focus();

                } else{

                    document.join.email2.disabled = true;

                    document.join.email2.value = document.join.email.options[document.join.email.selectedIndex].value;

                }

            }


           function checkValue(){
                
                if(!document.userinfo.id.value){
                    alert("아이디를 입력하세요.");
                    inputForm.id.focus();
                    return false;
                }
                if(checkspecial((document.userinfo.id.value))){
                    alert("아이디를 확인하세요. (5글자 이상,특수문자 금지)");
                    inputForm.id.focus();
                    return false;
                }
                if((!document.userinfo.password.value)||(!checkPasswordPattern(document.userinfo.password.value))){
                    alert("비밀번호를 입력하세요.");
                    inputForm.password.focus();
                    return false;
                }
                if((!document.userinfo.passwordcheck.value)||(document.userinfo.password.value!=document.userinfo.passwordcheck.value)){
                    alert("비밀번호를 재확인 다시 입력하세요.");
                    inputForm.passwordcheck.focus();
                    return false;
                }
                if(!document.userinfo.nickname.value){
                    alert("닉네임를 입력하세요.");
                    inputForm.nickname.focus();
                    return false;
                }
                if(!document.userinfo.email1.value){
                    alert("이메일를 입력하세요.");
                    inputForm.email.focus();
                    return false;
                }
            }
            function signup(){
                alert("회원가입이 되었습니다.");
                
            }
        
        </script>
    </head>
    <body>
        <div id="wrap">
            <b><font size="6" >회원가입</font></b>
            <br><br>
            <form name="userinfo" action="" method="post" onsubmit="return checkValue()">
            <table>
                <tr>
                    <td id="id">아이디</td>
                    <td>
                        <input type="text" name="id" maxlength="15">
                        <input type="button" value="중복확인">
                    </td>
                </tr>
                <tr>
                    <td id="password">비밀번호</td>
                    <td>
                        <input type="password" name="password" maxlength="45">
                    </td>
                </tr>
                <tr>
                    <td id="title">비밀번호 확인</td>
                    <td>
                        <input type="password" name="passwordcheck" maxlength="50">
                    </td>
                </tr>
                <tr>
                    <td id="nickname">닉네임</td>
                    <td>
                        <input type="text" name="nickname" maxlength="20">
                    </td>
                </tr>
                <tr>
                    <form name="email" id="email"> 
                    <td>이메일</td>
                    <td> <input type="text" id="email1" name="email1" value="이메일" onfocus="this.value='';">   @
                                    
                                    <input type="text" id="email2" name="email2" value="" >
                                    
                                        <select name="email2" onchange="email_change()">
                                        
                                            <option value="0" >선택하세요</option>
                                        
                                            <option value="9">직접입력</option>
                                        
                                            <option value="naver.com">naver.com</option>
                                        
                                            <option value="nate.com">nate.com</option> 
                                        
                                        </select> 
                    </td>
                    </form> 
                </tr>
            </table>
            <br>
            <input type="submit" value="가입" onclick="signup()">
            <input type="button" value="취소"  onclick="goLoginForm()">
            </form>
        </div>
    </body>
</html>
